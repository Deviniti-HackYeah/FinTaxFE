<section class="h-full">
  <button
    appButton
    class="ml-auto block"
    mode="ghost"
    icon
    [routerLink]="['/']"
  >
    <app-icon name="PencilLine" class="text-light" size="26" strokeWidth="2" />
  </button>

  <h2 class="mt-6 text-2xl font-medium text-primary">
    {{ 'CHAT_HISTORY' | transloco }}
  </h2>

  <div class="mt-6 h-full overflow-hidden">
    <h6 class="text-xs font-semibold text-light">
      {{ 'TODAY' | transloco }}
    </h6>

    <div class="mt-4 max-h-[calc(100vh-20rem)] space-y-4 overflow-auto">
      @for (historyItem of history$ | async; track $index) {
        <button
          class="group flex h-12 w-full items-center justify-between gap-4 rounded-3xl bg-lightest px-4 py-3 text-sm text-primary hover:bg-lightest/50"
          [routerLink]="['/chat', historyItem.key]"
        >
          <p class="truncate">
            {{ historyItem.name }}
          </p>

          <button
            (click)="$event.stopPropagation(); removeHistory(historyItem.key)"
            class="hidden text-white group-hover:block"
            severity="danger"
            size="tiny"
            appButton
            icon
          >
            <app-icon name="X" size="12" />
          </button>
        </button>
      }
    </div>
  </div>
</section>

<div class="mb-2 flex items-center justify-center gap-2">
  <p class="text-sm">Made with</p>
  <app-icon name="Heart" class="text-red-500" />
  <p class="text-sm">by</p>
  <img src="/deviniti.png" alt="deviniti" class="w-16" />
</div>
